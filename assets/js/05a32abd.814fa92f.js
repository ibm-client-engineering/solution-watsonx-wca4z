"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3055],{9605:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var s=i(5893),t=i(1151);const r={id:"ADDI",sidebar_position:2,title:"ADDI",custom_edit_url:null},a=void 0,l={id:"Prepare/ADDI",title:"ADDI",description:"This guide assumes you have an IBM Cloud account that is accessible. It also assumes you have the ibmcloud cli installed and configured. The installation of ibmcloud cli can be found here.",source:"@site/docs/1-Prepare/1-ADDI.mdx",sourceDirName:"1-Prepare",slug:"/Prepare/ADDI",permalink:"/solution-watsonx-wca4z/Prepare/ADDI",draft:!1,unlisted:!1,editUrl:null,tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"ADDI",sidebar_position:2,title:"ADDI",custom_edit_url:null},sidebar:"tutorialSidebar",previous:{title:"Pre-Flight Checks",permalink:"/solution-watsonx-wca4z/Prepare/pre-flight-checks"},next:{title:"Refactor Assistant",permalink:"/solution-watsonx-wca4z/Prepare/Refactor"}},o={},c=[{value:"Resources",id:"resources",level:2},{value:"Pre-Requisites",id:"pre-requisites",level:2},{value:"Hardware",id:"hardware",level:2},{value:"Software to be installed",id:"software-to-be-installed",level:2},{value:"ADDI Host",id:"addi-host",level:2},{value:"Creating the instance in IBM Cloud",id:"creating-the-instance-in-ibm-cloud",level:3},{value:"Accessing the instance in IBM Cloud",id:"accessing-the-instance-in-ibm-cloud",level:3},{value:"Disable public RDP access",id:"disable-public-rdp-access",level:3},{value:"Configure the data disk",id:"configure-the-data-disk",level:3},{value:"Installing Git for Windows",id:"installing-git-for-windows",level:3},{value:"Installing WinSCP",id:"installing-winscp",level:3},{value:"Installing Microsoft SQL Server",id:"installing-microsoft-sql-server",level:3},{value:"Manual SQL Server Configuration",id:"manual-sql-server-configuration",level:4},{value:"MS SQL Management Studio",id:"ms-sql-management-studio",level:3},{value:"Setting up an SQL User Account",id:"setting-up-an-sql-user-account",level:4},{value:"Install Java JDK",id:"install-java-jdk",level:3},{value:"Firewall Ports",id:"firewall-ports",level:3},{value:"Installing ADDI",id:"installing-addi",level:3},{value:"Installation of ADDI via CMDLINE",id:"installation-of-addi-via-cmdline",level:4},{value:"Installation of ADDI via UI",id:"installation-of-addi-via-ui",level:4},{value:"Configuring ADDI via WEBUI",id:"configuring-addi-via-webui",level:4},{value:"Data Generator",id:"data-generator",level:3},{value:"Prerequisites",id:"prerequisites",level:4},{value:"Setup",id:"setup",level:4},{value:"Run",id:"run",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsxs)(n.p,{children:["This guide assumes you have an IBM Cloud account that is accessible. It also assumes you have the ",(0,s.jsx)(n.code,{children:"ibmcloud"})," cli installed and configured. The installation of ",(0,s.jsx)(n.code,{children:"ibmcloud"})," cli can be found ",(0,s.jsx)(n.a,{href:"https://cloud.ibm.com/docs/cli?topic=cli-install-ibmcloud-cli",children:"here"}),"."]}),(0,s.jsx)(n.p,{children:"Mileage may vary on different cloud providers."})]}),"\n",(0,s.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://w3.ibm.com/w3publisher/software-downloads",children:"IBM Internal Software Downloads"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"pre-requisites",children:"Pre-Requisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Watsonx Code Assistant instance deployed in IBM Cloud"}),"\n",(0,s.jsx)(n.li,{children:"IBM\xae Application Discovery and Delivery Intelligence (ADDI)"}),"\n",(0,s.jsx)(n.li,{children:"IBM Application Discovery Connect for Mainframe (IBM AD Connect for Mainframe)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"hardware",children:"Hardware"}),"\n",(0,s.jsx)(n.p,{children:"For this build, we will be deploying Virtual Server Instances into IBM Cloud. They require the following:"}),"\n",(0,s.jsx)(n.p,{children:"ADDI Host"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"OS: Windows 10 or 11"}),"\n",(0,s.jsx)(n.li,{children:"RAM: 32 Gigs"}),"\n",(0,s.jsx)(n.li,{children:"Storage: 100G for local, 300G for AD components"}),"\n",(0,s.jsx)(n.li,{children:"Cores: 8"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Refactor Host"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"OS: Red Hat Enterprise Linux 8x/9x"}),"\n",(0,s.jsx)(n.li,{children:"RAM: 16G"}),"\n",(0,s.jsx)(n.li,{children:"Storage: 100G for local, 400G for data"}),"\n",(0,s.jsx)(n.li,{children:"Cores: 4"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"software-to-be-installed",children:"Software to be installed"}),"\n",(0,s.jsx)(n.p,{children:"ADDI Host"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ADDI"}),"\n",(0,s.jsx)(n.li,{children:"Microsoft SQL Server (standard, express, or developer editions)"}),"\n",(0,s.jsx)(n.li,{children:"Adoptium Java SDK 11"}),"\n",(0,s.jsx)(n.li,{children:"SQL Server Management Studio"}),"\n",(0,s.jsx)(n.li,{children:"Git for Windows"}),"\n",(0,s.jsx)(n.li,{children:"WinSCP"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Refactoring Assistant"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Podman"}),"\n",(0,s.jsx)(n.li,{children:"Refactor Containers"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"addi-host",children:"ADDI Host"}),"\n",(0,s.jsx)(n.h3,{id:"creating-the-instance-in-ibm-cloud",children:"Creating the instance in IBM Cloud"}),"\n",(0,s.jsx)(n.p,{children:"Install the ibmcloud plugin for infrastructure service"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"note to RK: Add the cli commands to create the instance here"})}),"\n",(0,s.jsx)(n.h3,{id:"accessing-the-instance-in-ibm-cloud",children:"Accessing the instance in IBM Cloud"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"ibmcloud plugin install infrastructure-service\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Useful links for topics covered here.\n",(0,s.jsx)(n.a,{href:"https://cloud.ibm.com/docs/vpc?topic=vpc-vsi_is_connecting_windows#vsi_connecting_windows_instance",children:"https://cloud.ibm.com/docs/vpc?topic=vpc-vsi_is_connecting_windows#vsi_connecting_windows_instance"})]})}),"\n",(0,s.jsx)(n.p,{children:'Our instance name for windows is called "wca4z-addi"'}),"\n",(0,s.jsxs)(n.p,{children:["Query the status of your instance by running the following command. ",(0,s.jsx)(n.code,{children:"INSTANCE"})," is the ID or Name for the instance that you want to connect:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"ibmcloud is instance wca4z-addi\n"})}),"\n",(0,s.jsxs)(n.p,{children:["When the instance shows that it's ",(0,s.jsx)(n.code,{children:"running"}),", you are ready to retrieve the initialization values to get your password."]}),"\n",(0,s.jsxs)(n.p,{children:["Run the following command to initialize your instance and obtain your instance password. Specify your instance ID or Name for the ",(0,s.jsx)(n.code,{children:"INSTANCE"})," variable and your private key for the ",(0,s.jsx)(n.code,{children:"KEY"})," or ",(0,s.jsx)(n.code,{children:"KEY_FILE"})," variable:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"ibmcloud is instance-initialization-values wca4z-addi [--private-key (KEY | @KEY_FILE)]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The key we created is called ",(0,s.jsx)(n.code,{children:"win-key-wca4z_rsa.prv"})]}),"\n",(0,s.jsx)(n.p,{children:"So our command should be"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"ibmcloud is instance-initialization-values wca4z-addi --private-key @~/.ssh/win-key-wca4z_rsa.prv\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This command decodes and decrypts your password, which is automatically generated when you create an instance by using a Windows image. The password is decoded and decrypted based on the public SSH Key that you used at instance create time and the associated private SSH key that you specify in the ",(0,s.jsx)(n.code,{children:"instance-initialization-values"})," command. For more information, see the ",(0,s.jsx)(n.a,{href:"https://cloud.ibm.com/docs/vpc?topic=vpc-vpc-reference#instance-initialization-values",children:"CLI command reference"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["You can also use the API to get the encrypted password, which returns the decoded and decrypted password. For more information, see ",(0,s.jsx)(n.a,{href:"https://cloud.ibm.com/apidocs/vpc/latest#retrieve-configuration-used-to-initialize-the-inst",children:"Retrieve configuration that is used to initialize the instance API"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"The output of the above command should return something like this:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"Getting instance initialization values for wca4z-addi under account Fred Whipple's Account as user kramerro@us.ibm.com...\n\nKeys                 ID                                          Name            Fingerprint\n                     r014-48416b92-2235-48ff-aea7-034e5a38e8a5   win-key-wca4z   SHA256:rUix46/y3Qol46dnznusfaq4dRV/RlMrGsjEvLNWoDw\n\nEncrypted password   I/AbavM1cYL1g0omTPzNlpIIIR3zwQKYmEmAe2DFb72Bs+HmqUy+h0C8c3bD/fV1LyUGoCWqJqnngz7+SlVddzFLunVtvM1X30qUgBCzuJfvJo6IpyNFc5YFoWZxMojWKp1e71ezzILTD10Z6MPNtdCwL2syYag+vNPexgHwc4eJwlqnhUTdFD3i0FPYOzSiReKxw1m4QpwXTd/EyecvDbrSAXnIjYyyMlJsv/dmZrLhynEjUBwn39RTqD2Da9Mjyi7hyrzKZqkKP3barnwPRFd8xQI21gA0Lm3mgC7PJzmA5Z8KqGQV3IPlFE909HRQeHpB5DN8nS4KsNGKPRVl/pF3XAA9BRoMKoOMV1d4mOXGU2b5QU1+IKpZU7ObCKhqLw+U3Dm1sPYW5IgujZd725uhqwwIBZukMQE2RSYRij0ef5mhv9gt/f/zrNWTaZVjgQqA3ufL4dIdu/W8mZf2puxKCYvhIwolA13Y09BeTLRBCK9/8LOx0e8WjmDg9lx49Fv5AwgaUi2tpLWjBf4Xgt8b6ddIo0Lgy8sc4KdsdQ/8Jtugblp/zfEzxJl6WqpD6+3UOSLQi9dKtproL9tI3CDkk2WLhV02m+vG6imrVMZpCGsgdlLEWqwCXKNIvaGmCKG0TTm7QT8BqiqxTwUPvQCLcIEGf4yWVsEbYGvR+zQ=\nEncryption key CRN   SHA256:rUix46/y3Qol46dnznusfaq4dRV/RlMrGsjEvLNWoDw\nPassword             <UNENCRYPTED PASSWORD>\n"})}),"\n",(0,s.jsx)(n.p,{children:"Once you have obtained the password from the above command, make sure you have associated a floating public IP for the ADDI host so it is accessible:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"ibmcloud is floating-ip-reserve <FLOATING_IP_NAME> --nic <NIC>\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You now have what you need to connect to your Windows instance: a decrypted password and a floating IP address. Use your preferred Remote Desktop client to connect to your instance. To connect to your instance, provide the floating IP address and the decrypted password. The username is ",(0,s.jsx)(n.code,{children:"Administrator"})," by default. If you're connecting from a client that is running the Windows Administrator account, use ",(0,s.jsx)(n.code,{children:".\\administrator"})," as the user ID to log on to RDP."]}),"\n",(0,s.jsx)(n.h3,{id:"disable-public-rdp-access",children:"Disable public RDP access"}),"\n",(0,s.jsx)(n.p,{children:"It is against IBM security policy to have Remote Desktop Protocol enabled on a public IP address."}),"\n",(0,s.jsx)(n.p,{children:"Change RDP listening port for hardening"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Needs to be set to something other than the default ports 3389/3388, in this guide we will change it to 3390"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"For VPC infrastructure, go to IBM Cloud and open the virtual instance, on the network interface click on the security group, manage rules, add port 3390 to rule with 3389"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/windows-server/remote/remote-desktop-services/clients/change-listening-port",children:"https://learn.microsoft.com/en-us/windows-server/remote/remote-desktop-services/clients/change-listening-port"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Check current port (via PowerShell)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Get-ItemProperty -Path 'HKLM:\\SYSTEM\\CurrentControlSet\\Control\\Terminal Server\\WinStations\\RDP-Tcp' -name \"PortNumber\"\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Change port to 3390 (via PowerShell, start as Administrator)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"#Run Powershell as an administrator#\n\n#Allow powershell commands to run\nSet-ExecutionPolicy -ExecutionPolicy Unrestricted -Confirm:$False -Force\n\n#Get current port number\nGet-ItemProperty -Path 'HKLM:\\SYSTEM\\CurrentControlSet\\Control\\Terminal Server\\WinStations\\RDP-Tcp' -name \"PortNumber\"\n\n#Change port # assigned to RDP. You can assign any port between 1024 to 49151\n#$portvalue = Read-Host -Prompt 'Input new PORT number between 1024 to 49151'\n$portvalue = 3390\n\nSet-ItemProperty -Path 'HKLM:\\SYSTEM\\CurrentControlSet\\Control\\Terminal Server\\WinStations\\RDP-Tcp' -name \"PortNumber\" -Value $portvalue \n\nNew-NetFirewallRule -DisplayName 'RDPPORTLatest-TCP-In' -Profile 'Public' -Direction Inbound -Action Allow -Protocol TCP -LocalPort $portvalue \nNew-NetFirewallRule -DisplayName 'RDPPORTLatest-UDP-In' -Profile 'Public' -Direction Inbound -Action Allow -Protocol UDP -LocalPort $portvalue\n\n#Confirm port number has been changed\nGet-ItemProperty -Path 'HKLM:\\SYSTEM\\CurrentControlSet\\Control\\Terminal Server\\WinStations\\RDP-Tcp' -name \"PortNumber\"\n\n#Once powershell commands are complete, reset the powershell execution policy\nSet-ExecutionPolicy -ExecutionPolicy Restricted -Confirm:$False -Force\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Restart RDP (via PowerShell as Administrator)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'Restart-Service -Force -DisplayName "Remote Desktop Services"\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Test RDP to port 3390 (e.g. x.x.x.x:3390)"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"For VPC infrastructure, go to IBM Cloud and open the virtual instance, on the network interface click on the security group, manage rules, remove port 3389 from any rules"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"On your workstation, start SSH tunneling command (-N prevents a shell from starting)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ssh -L 13389:<private address of Windows server>:3390 root@<public address of linux server that can access private address of Windows server> -i ~/.ssh/rhel-wca4z-key_rsa.prv -N\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"While the ssh command is running, open RDP against localhost:13389 to test log in"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"For VPC infrastructure, go to IBM Cloud and open the virtual instance, on the network interface click on the security group, manage rules, remove rule containing remaining port 3390"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"configure-the-data-disk",children:"Configure the data disk"}),"\n",(0,s.jsx)(n.p,{children:"Open the server manager on the ADDI host and select the 300 gig disk:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/24a7d57b-709c-4e81-8dbe-e0ddf2f84cdc",alt:"server_manager"})}),"\n",(0,s.jsx)(n.p,{children:"Start up the New Volume Wizard"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/3c10f785-3fbe-4be2-96c5-51bc2ba3b734",alt:"volume_wizard1"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/99c605bc-ba7a-404b-b27f-d71d9a3337ac",alt:"volume_wizard2"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/a2250aa7-1f0f-4771-8927-36899c6756b1",alt:"volume_wizard3"})}),"\n",(0,s.jsx)(n.p,{children:"Make it Drive D. This will be our storage for the ADDI Data."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/3a19fe8b-bb98-40f3-8857-918dca27dc8b",alt:"volume_wizard4"})}),"\n",(0,s.jsxs)(n.p,{children:["We'll call our volume label ",(0,s.jsx)(n.code,{children:"AD Data"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/d9fd47f8-1c76-4c06-8637-6ad4dc1a596d",alt:"volume_wizard5"})}),"\n",(0,s.jsx)(n.p,{children:"Confirm and Create"}),"\n",(0,s.jsx)(n.h3,{id:"installing-git-for-windows",children:"Installing Git for Windows"}),"\n",(0,s.jsxs)(n.p,{children:["Download the installer from ",(0,s.jsx)(n.a,{href:"https://github.com/git-for-windows/git/releases/download/v2.44.0.windows.1/Git-2.44.0-64-bit.exe",children:"here"})]}),"\n",(0,s.jsx)(n.p,{children:"Run the installer with all default options."}),"\n",(0,s.jsx)(n.h3,{id:"installing-winscp",children:"Installing WinSCP"}),"\n",(0,s.jsx)(n.p,{children:"This is a secure transfer application that will be needed to move files back and forth between the ADDI host and the Refactor Assistant host. The most recent version is 6.3.1 as of this writing."}),"\n",(0,s.jsxs)(n.p,{children:["Download the installer from ",(0,s.jsx)(n.a,{href:"https://winscp.net/download/WinSCP-6.3.1-Setup.exe",children:"here"})]}),"\n",(0,s.jsx)(n.h3,{id:"installing-microsoft-sql-server",children:"Installing Microsoft SQL Server"}),"\n",(0,s.jsx)(n.p,{children:"As of this writing, the following versions of MS SQL Server are compatible with ADDI:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Microsoft SQL Server 2014/2016/2017/2019/2022 (Express/Standard/Developer)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"For our examples, we will be using the Developer edition of 2022."}),"\n",(0,s.jsxs)(n.p,{children:["On your ADDI host, open the Edge browser and download the ",(0,s.jsx)(n.a,{href:"https://go.microsoft.com/fwlink/p/?linkid=2215158&clcid=0x409&culture=en-us&country=us",children:"installer"})]}),"\n",(0,s.jsx)(n.p,{children:"Locate the SQL Server installer we downloaded"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/711a4173-a00b-406c-b9d5-639c6fa203aa",alt:"sql_install1"})}),"\n",(0,s.jsx)(n.p,{children:"Run the installer and select Download Media"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/d5e6e71d-34c3-429b-bc13-c3d6908a61b8",alt:"sql_install2"})}),"\n",(0,s.jsx)(n.p,{children:"Select ISO image"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/ce0d77fa-5f67-4abc-b4a3-611a164277e4",alt:"sql_install3"})}),"\n",(0,s.jsx)(n.p,{children:"Download the ISO image and then right click and mount it."}),"\n",(0,s.jsx)(n.p,{children:"In our case it was mounted as DVD Drive (E)"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/54cc5c72-686d-4434-9efa-823ea298a409",alt:"sql_install4"})}),"\n",(0,s.jsx)(n.p,{children:"Open PowerShell and change to that directory"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-powershell",children:"PS C:\\> e:\nPS E:\\> dir\n\n\n    Directory: E:\\\n\n\nMode                 LastWriteTime         Length Name\n----                 -------------         ------ ----\nd-----         10/8/2022  10:20 AM                1033_ENU_LP\nd-----         10/8/2022  10:20 AM                Tools\nd-----         10/8/2022  10:19 AM                redist\nd-----         10/8/2022  10:19 AM                resources\nd-----         10/8/2022  10:20 AM                x64\n--r---         10/8/2022  10:20 AM            314 MediaInfo.xml\n--r---         10/8/2022   8:39 AM         231328 SqlSetupBootstrapper.dll\n--r---         10/8/2022   8:39 AM             45 autorun.inf\n--r---         10/8/2022   8:39 AM         133032 setup.exe\n--r---         10/8/2022   8:39 AM            532 setup.exe.config\n\n\nPS E:\\>\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"Let's build our install command here:"}),"\n",(0,s.jsxs)(n.p,{children:["Options like ",(0,s.jsx)(n.code,{children:"SQLSYSADMINACCOUNTS"})," are the admin user. Typically this is the hostname capitlized followed by Administrator."]}),"\n",(0,s.jsxs)(n.p,{children:["Ex: ",(0,s.jsx)(n.code,{children:"WCA4Z-ADDI\\Administrator"})]}),"\n",(0,s.jsxs)(n.p,{children:["Also the ",(0,s.jsx)(n.code,{children:"SAPWD"})," password should be set to your Windows Administrator password."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-powershell",children:'\n.\\setup.exe /Q /IACCEPTSQLSERVERLICENSETERMS /ACTION=install /TCPENABLED=1 /UpdateEnabled=0 /SQLSYSADMINACCOUNTS="WCA4Z-ADDI\\Administrator" /FEATURES=SQLENGINE /SECURITYMODE=SQL /INSTANCENAME=MSSQLSERVER /AGTSVCSTARTUPTYPE=Automatic /BROWSERSVCSTARTUPTYPE=Automatic /PRODUCTCOVEREDBYSA="False" /NPENABLED=1 /SAPWD="<ADMIN PASSWORD>"\n\n'})}),"\n",(0,s.jsx)(n.p,{children:"Run the setup command."}),"\n",(0,s.jsx)(n.h4,{id:"manual-sql-server-configuration",children:"Manual SQL Server Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Tip: If ADDI configuration has trouble connecting to SQL Server, ensure that the below are set up correctly"}),"\n",(0,s.jsxs)(n.p,{children:["The command line based install of SQL Server above should properly set the server configuration (",(0,s.jsx)(n.code,{children:"/TCPENABLED=1"}),"), but here are the manual instructions if needed."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Open SQL Server Configuration Manager (Start > Microsoft SQL Server 2019 > SQL Server 2019 Configuration Manager)"}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.code,{children:"Client Protocols"})," under ",(0,s.jsx)(n.code,{children:"SQL Native Client 11.0 Configuration (32bit)"})," and ensure ",(0,s.jsx)(n.code,{children:"TCP/IP"})," is set to ",(0,s.jsx)(n.code,{children:"Enabled"})]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.code,{children:"Protocols for MSSQLSERVER"})," under ",(0,s.jsx)(n.code,{children:"SQL Server Network Configuration"})," and ensure ",(0,s.jsx)(n.code,{children:"Shared Memory"})," and ",(0,s.jsx)(n.code,{children:"TCP/IP"})," are set to ",(0,s.jsx)(n.code,{children:"Enabled"})]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.code,{children:"Client Protocols"})," under ",(0,s.jsx)(n.code,{children:"SQL Native Client Configuration"})," and ensure ",(0,s.jsx)(n.code,{children:"Shared Memory"})," and ",(0,s.jsx)(n.code,{children:"TCP/IP"})," are set to ",(0,s.jsx)(n.code,{children:"Enabled"})]}),"\n",(0,s.jsx)(n.li,{children:"Close SQL Server Configuration Manager"}),"\n",(0,s.jsxs)(n.li,{children:["Open Windows Services and restart service ",(0,s.jsx)(n.code,{children:"SQL Server (MSSQLSERVER)"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"ms-sql-management-studio",children:"MS SQL Management Studio"}),"\n",(0,s.jsxs)(n.p,{children:["MSSMS can be downloaded ",(0,s.jsx)(n.a,{href:"https://aka.ms/ssmsfullsetup",children:"here"}),". Download it and install it with default options. It will require a restart of the ADDI host."]}),"\n",(0,s.jsx)(n.h4,{id:"setting-up-an-sql-user-account",children:"Setting up an SQL User Account"}),"\n",(0,s.jsxs)(n.p,{children:["Locate the ",(0,s.jsx)(n.code,{children:"SQL Server Management Studio 19"})," in Program Files and start it up."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-watsonx-ca4z/assets/102995992/a06f4ce8-d08e-4701-af43-90b470ca2e43",alt:"SQL SMS"})}),"\n",(0,s.jsxs)(n.p,{children:["Click ",(0,s.jsx)(n.code,{children:"Connect"})]}),"\n",(0,s.jsx)(n.p,{children:"Start SQL Server Management Studio."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Expand Security > Logins then right-click Logins and choose New Login. Add a login name, select SQL Server Authentication, add a password, and make sure that the default database is set to master. This user is referred to as ",(0,s.jsx)(n.strong,{children:"IBM AD SQL Identity"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Make sure the ",(0,s.jsx)(n.code,{children:"addi_user"})," is NOT required to change his password on first login."]}),"\n",(0,s.jsxs)(n.li,{children:["Our user is ",(0,s.jsx)(n.code,{children:"addi_user"})," and his password is ",(0,s.jsx)(n.code,{children:"p@ssw0rd"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-watsonx-ca4z/assets/102995992/1db25218-70dc-491c-a0c5-6889f4528827",alt:"SQL SMS"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Under User Mapping, add this user to the master database."}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Expand Databases > System Databases > master then right-click master and choose Properties. Go to Permissions tab and for the ",(0,s.jsx)(n.strong,{children:"IBM AD SQL Identity"})," and make sure that permissions are granted for: Create database, Create function, Create procedure, Create table, and Create view."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-watsonx-ca4z/assets/102995992/05743182-f4ab-48fb-823d-3f4e5a9e6a68",alt:"SQL SMS"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:["The following permission must be granted only if the ",(0,s.jsx)(n.strong,{children:"Rename project"})," feature is used in IBM AD Build, otherwise it is not needed. Right-click on the SQL server instance and then select Properties. In the Server Properties window select Permissions: From the roles list, select the ",(0,s.jsx)(n.strong,{children:"IBM AD SQL Identity"})," and then select Grant for ",(0,s.jsx)(n.em,{children:"Alter any database"})," permission."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"install-java-jdk",children:"Install Java JDK"}),"\n",(0,s.jsx)(n.p,{children:"Our JAVA SDK will be the open version from Adoptium. It can be downloaded from the following link. Be sure it's vers 11."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://adoptium.net/temurin/archive/?version=11",children:"https://adoptium.net/temurin/archive/?version=11"})}),"\n",(0,s.jsx)(n.p,{children:"Make sure to set both JAVA_HOME and JavaSoft to full install of feature set to local drive"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/ibm-client-engineering/solution-watsonx-ca4z/assets/102995992/905b2903-fb90-4778-a476-6d848d60691b",alt:"java_install1"})}),"\n",(0,s.jsx)(n.h3,{id:"firewall-ports",children:"Firewall Ports"}),"\n",(0,s.jsx)(n.p,{children:"Open the Powershell and run the following command to open all required ports:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-powershell",children:'New-NetFirewallRule -DisplayName "ADDIandSQLPorts" -Direction inbound -Profile Any -Action Allow -LocalPort 1433,3000,9080,9443,2181,2281,2424,2430,2434,2440,7600,7700,7800,7900,7650,7850,9999 -Protocol TCP\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"installing-addi",children:"Installing ADDI"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://w3south-limited-use.cpc.ibm.com/software/xl/download/ticket.wss",children:"https://w3south-limited-use.cpc.ibm.com/software/xl/download/ticket.wss"})}),"\n",(0,s.jsx)(n.p,{children:"Retrieve the ADDI installer and the IBM Application Discovery and Delivery Intelligence for IBM Z Unlimited Project Activation Kit 6.1.2 from IBM's software repository."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://www.ibm.com/docs/en/watsonx-code-assistant-4z/1.0?topic=installing-components-addi-installer",children:"https://www.ibm.com/docs/en/watsonx-code-assistant-4z/1.0?topic=installing-components-addi-installer"})}),"\n",(0,s.jsxs)(n.p,{children:["Once we have downloaded the installation file, it should show up as a zip file in our ",(0,s.jsx)(n.code,{children:"Downloads"})," folder called ",(0,s.jsx)(n.code,{children:"ADDI_FOR_IBM_Z_612_WIN.zip"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Extract ",(0,s.jsx)(n.code,{children:"C:\\Users\\Administrator\\Downloads\\cics-genapp-main.zip"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-powershell",children:"Expand-Archive -LiteralPath 'C:\\Users\\Administrator\\Downloads\\ADDI_FOR_IBM_Z_612_WIN.zip' -DestinationPath 'C:\\Users\\Administrator\\Downloads'\n"})}),"\n",(0,s.jsxs)(n.p,{children:["In the File Explorer window, go to ",(0,s.jsx)(n.code,{children:"C:\\Users\\Administrator.WCA4Z-ADDI\\Downloads\\ADDI_FOR_IBM_Z_612_WIN\\IBM ADDI"})]}),"\n",(0,s.jsx)(n.p,{children:"Double click the installer."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"IBM_Application_Discovery_and_Delivery_Intelligence_Installer-6.1.2-ifix1.exe"})}),"\n",(0,s.jsx)(n.h4,{id:"installation-of-addi-via-cmdline",children:"Installation of ADDI via CMDLINE"}),"\n",(0,s.jsx)(n.p,{children:"Alternatively, we can run this installer in quiet mode."}),"\n",(0,s.jsxs)(n.p,{children:["We can create the following file on the desktop called ",(0,s.jsx)(n.code,{children:"auto-install.xml"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<AutomatedInstallation langpack="eng">\n    <com.izforge.izpack.panels.hello.HelloPanel id="HelloPanel_0"/>\n    <com.izforge.izpack.panels.licence.LicencePanel id="LicencePanel_1"/>\n    <com.izforge.izpack.panels.target.TargetPanel id="TargetPanel_2">\n        <installpath>C:\\Program Files\\IBM Application Discovery and Delivery Intelligence</installpath>\n    </com.izforge.izpack.panels.target.TargetPanel>\n    <com.izforge.izpack.panels.packs.PacksPanel id="PacksPanel_3">\n        <pack index="0" name="IBM Application Discovery Servers and Services" selected="true"/>\n        <pack index="1" name="IBM Application Discovery Build Client" selected="true"/>\n        <pack index="2" name="Authentication Server (DEX)" selected="true"/>\n        <pack index="3" name="Stop Running Services" selected="true"/>\n        <pack index="4" name="IBM Application Discovery Web Services" selected="true"/>\n        <pack index="5" name="@AN_SERVER_NAME@" selected="true"/>\n        <pack index="6" name="IBM Application Discovery Batch Server" selected="true"/>\n        <pack index="7" name="IBM Application Discovery Configuration Service" selected="true"/>\n        <pack index="8" name="IBM Application Discovery Cross Applications Service" selected="true"/>\n        <pack index="9" name="IBM Application Discovery Service Manager" selected="true"/>\n        <pack index="10" name="IBM Application Discovery File Service" selected="true"/>\n        <pack index="11" name="IBM Application Discovery Mainframe Projects Service" selected="true"/>\n        <pack index="12" name="IBM Application Discovery Manual Resolutions Service" selected="true"/>\n        <pack index="13" name="IBM Application Discovery Search Service" selected="true"/>\n        <pack index="14" name="Open Wizard" selected="true"/>\n        <pack index="15" name="Upgrade Wizard" selected="false"/>\n        <pack index="16" name="Installer files" selected="true"/>\n    </com.izforge.izpack.panels.packs.PacksPanel>\n    <com.izforge.izpack.panels.userinput.UserInputPanel id="openConfigWizard">\n        <entry key="OpenWizard" value="on"/>\n    </com.izforge.izpack.panels.userinput.UserInputPanel>\n    <com.izforge.izpack.panels.userinput.UserInputPanel id="userInput">\n        <entry key="CCS_IP" value="<HOST IP>"/>\n        <entry key="CCS_PORT" value="2181"/>\n    </com.izforge.izpack.panels.userinput.UserInputPanel>\n    <com.izforge.izpack.panels.install.InstallPanel id="InstallPanel_7"/>\n    <com.izforge.izpack.panels.shortcut.ShortcutPanel id="ShortcutPanel_8">\n        <createMenuShortcuts>true</createMenuShortcuts>\n        <programGroup>IBM Application Discovery and Delivery Intelligence</programGroup>\n        <createDesktopShortcuts>false</createDesktopShortcuts>\n        <createStartupShortcuts>false</createStartupShortcuts>\n        <shortcutType>all</shortcutType>\n    </com.izforge.izpack.panels.shortcut.ShortcutPanel>\n    <com.izforge.izpack.panels.finish.FinishPanel id="FinishPanel_9"/>\n</AutomatedInstallation>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Update ",(0,s.jsx)(n.code,{children:"<HOST IP>"})," to our ADDI host address."]}),"\n",(0,s.jsx)(n.p,{children:"Now open a PowerShell window and navigate to the ADDI install path and run the installer."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-powershell",children:'cd "C:\\Users\\Administrator\\Downloads\\ADDI_FOR_IBM_Z_612_WIN\\IBM ADDI"`\n\njava -jar .\\IBM_Application_Discovery_and_Delivery_Intelligence_Installer-6.1.2-ifix1.exe -f "C:\\Users\\Administrator\\Desktop\\auto-install.xml"\n\nCommand line arguments: -f C:\\Users\\Administrator\\Desktop\\auto-install.xml\n[ Starting automated installation ]\n====================\nInstallation started\nFramework: 5.1.3-84aaf (IzPack)\nPlatform: windows,version=10.0,arch=x64,symbolicName=WINDOWS_10,javaVersion=11.0.22\n[ Starting to unpack ]\n[ Processing package: IBM Application Discovery Servers and Services (1/16) ]\n[ Processing package: IBM Application Discovery Build Client (2/16) ]\n[ Processing package: Authentication Server (DEX) (16/16) ]\n[ Processing package:  (3/16) ]\n[ Processing package:  (4/16) ]\nCleaning up the target folder ...\n[ Processing package:  (5/16) ]\n[ Processing package:  (6/16) ]\n[ Processing package:  (7/16) ]\n[ Processing package:  (8/16) ]\n[ Processing package:  (9/16) ]\n[ Processing package:  (10/16) ]\n[ Processing package:  (11/16) ]\n[ Processing package:  (12/16) ]\n[ Processing package:  (13/16) ]\n[ Processing package:  (14/16) ]\n[ Processing package:  (15/16) ]\n[ Unpacking finished ]\nInstallation finished\n[ Writing the uninstaller data ... ]\n[ Automated installation done ]\n'})}),"\n",(0,s.jsx)(n.h4,{id:"installation-of-addi-via-ui",children:"Installation of ADDI via UI"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://www.ibm.com/docs/en/watsonx-code-assistant-4z/1.0?topic=configuring-by-using-ad-configuration-wizard",children:"https://www.ibm.com/docs/en/watsonx-code-assistant-4z/1.0?topic=configuring-by-using-ad-configuration-wizard"})}),"\n",(0,s.jsx)(n.p,{children:"Most of these settings are defaults."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/529de3ed-2114-4d0d-9bb8-2528936217e6",alt:"ADDI Install1"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/87d2fcdc-b5ba-4565-96d8-9c7a8389cbd6",alt:"ADDI Install2"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/65df0408-d2bb-47de-83a3-97210af25c2f",alt:"ADDI Install3"})}),"\n",(0,s.jsx)(n.p,{children:"Enable the DEX server"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/84686022-ff2c-4089-bab2-800625027ae1",alt:"ADDI Install4"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/8782996f-cbf2-4cf3-8f93-b8bc77fa08ed",alt:"ADDI Install5"})}),"\n",(0,s.jsxs)(n.p,{children:["Keep our external IP as the Config service IP. In this case, our VM is ",(0,s.jsx)(n.code,{children:"10.241.64.4"}),". But if you do have a FQDN, use that instead, ex ",(0,s.jsx)(n.code,{children:"wca4z2-winaddi.fyre.ibm.com"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/8460a0a9-0eec-4c32-a586-d2d02e5fc91e",alt:"ADDI Install6"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/4c3388ac-7029-4833-9cf0-b3ccae54dd98",alt:"ADDI Install7"})}),"\n",(0,s.jsx)(n.p,{children:"At some point, the installer will spin up the ADDI web dashboard to continue the installation"}),"\n",(0,s.jsx)(n.h4,{id:"configuring-addi-via-webui",children:"Configuring ADDI via WEBUI"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/56caa6aa-3000-48e9-9b4e-ff32e581d6cc",alt:"CleanShot 2024-02-09 at 15 40 39"})}),"\n",(0,s.jsxs)(n.p,{children:["Set our Relational Database Server info to point to our local SQL Server. Use the ",(0,s.jsx)(n.code,{children:"addi_user"})," we configured with his password ",(0,s.jsx)(n.code,{children:"p@ssw0rd"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/c2ad0b3c-dcd8-4623-b333-c34efc1caf2b",alt:"CleanShot 2024-02-09 at 15 19 11"})}),"\n",(0,s.jsx)(n.p,{children:"In our instance we're setting \"D:\" to be our data drive, so let's set it up that way."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/f008cb01-5045-4ba8-8186-c7c175657d89",alt:"ADDI Install8"})}),"\n",(0,s.jsx)(n.p,{children:"On the Relational Database Server page, enter the following information:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/0dee7890-b74d-4ec8-a777-675b73ce3368",alt:"ADDI Install9"})}),"\n",(0,s.jsx)(n.p,{children:"Database names can stay default"}),"\n",(0,s.jsxs)(n.p,{children:["We set the Graph Database user password to ",(0,s.jsx)(n.code,{children:"P@ssw0rd"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/f6ec9b4f-a660-4478-903a-b2a3764f5719",alt:"ADDI Install10"})}),"\n",(0,s.jsx)(n.p,{children:"Batch server settings can stay default"}),"\n",(0,s.jsxs)(n.p,{children:["Allow the Health Check to create the ",(0,s.jsx)(n.code,{children:"GenApp"})," project."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/e1a2316e-5a4b-4c4a-b3b6-8e2af88daf64",alt:"ADDI Install11"})}),"\n",(0,s.jsx)(n.p,{children:"Cross your fingers and commit."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/c33394ae-74a6-4f1a-af89-267a99a2125e",alt:"ADDI Install12"})}),"\n",(0,s.jsx)(n.p,{children:"So this is expected behavior:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://media.github.ibm.com/user/20330/files/83570673-fd4b-458f-bf77-d52a2f1ed734",alt:"ADDI Install13"})}),"\n",(0,s.jsxs)(n.p,{children:["Click ",(0,s.jsx)(n.code,{children:"Done"})," and the ADDI Dashboard should open."]}),"\n",(0,s.jsx)(n.p,{children:"The following services should be offline or disabled in the Dashboard"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Authentication server (DEX)"}),"\n",(0,s.jsx)(n.li,{children:"Catalog service"}),"\n",(0,s.jsx)(n.li,{children:"Validation service"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"data-generator",children:"Data Generator"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"This is something already in the Velocity images"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Download latest zip from ",(0,s.jsx)(n.a,{href:"https://eu.artifactory.swg-devops.com/ui/native/zeus-ez-public/ez/sd/wca4z-data-generator/",children:"https://eu.artifactory.swg-devops.com/ui/native/zeus-ez-public/ez/sd/wca4z-data-generator/"})," (requires w3 login)"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Can't download, either no access or it doesn't exist at that spot"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Found zip file WCA4Z-Data-Generator.zip in box somewhere and downloaded it"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"README.txt"}),"\nWatson Code Assistant for Z Data Generator - 1.0.0"]}),"\n",(0,s.jsx)(n.p,{children:"Generates Control Flow data and DDL database information from an extracted service and writes the information in a DB2 on Cloud database."}),"\n",(0,s.jsx)(n.h4,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["The basic requirements for running the Watson Code Assistant for Z Data Generator (WCA4Z) are the same as IBM Application Discovery and Delivery Intelligence (ADDI) and can be found at ",(0,s.jsx)(n.a,{href:"https://www.ibm.com/docs/en/addi/6.1.2?topic=installing-prerequisites",children:"https://www.ibm.com/docs/en/addi/6.1.2?topic=installing-prerequisites"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["ADDI is already installed and configured on the same machine where Watson Code Assistant for Z Data Generator is going to be installed. More information available at ",(0,s.jsx)(n.a,{href:"https://www.ibm.com/docs/en/addi/6.1.2?topic=guide-installing",children:"https://www.ibm.com/docs/en/addi/6.1.2?topic=guide-installing"})]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"setup",children:"Setup"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Extract the contents of the WCA4Z Data Generator ZIP file into the ",(0,s.jsx)(n.code,{children:"<ADDI_INSTALLATION_FOLDER>"})," folder. The ZIP file contains a folder called ",(0,s.jsx)(n.code,{children:"WCA4Z Data Generator"})," so after extracting, the contents of that folder should be available in ",(0,s.jsx)(n.code,{children:"<ADDI_INSTALLATION_FOLDER>\\WCA4Z Data Generator"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Add an IBM Db2 relational database server from ",(0,s.jsx)(n.code,{children:"IBM Application Discovery Configuration Service Admin > Configure > <ENV_NAME> > Servers and security > Relational database servers."}),". This should be an instance of IBM Db2 on Cloud."]}),"\n",(0,s.jsxs)(n.li,{children:["Create a new mainframe project:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Open ",(0,s.jsx)(n.code,{children:"IBM Application Discovery Build Client"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Select ",(0,s.jsx)(n.code,{children:"File > New Project"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Choose ",(0,s.jsx)(n.code,{children:"Mainframe main languages"})," as the project type and click on the ",(0,s.jsx)(n.code,{children:"Next"})," button."]}),"\n",(0,s.jsxs)(n.li,{children:["Enter a the project name, for example ",(0,s.jsx)(n.code,{children:"ExtractedServices"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Select the ",(0,s.jsx)(n.code,{children:"Project DB Type"})," and choose the IBM Db2 on Cloud database server added in the previous step."]}),"\n",(0,s.jsxs)(n.li,{children:["Click on the ",(0,s.jsx)(n.code,{children:"Finish"})," button to create the new project."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Create a new GitHub repository for the source files extracted from IBM Refactoring Assistant. The structure of the repository should the following folders:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Cobol Programs"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"Copybooks"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"DDL"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Enable project file synchronization. More information available at ",(0,s.jsx)(n.a,{href:"https://www.ibm.com/docs/en/addi/6.1.2?topic=configurations-filling-ad-build-client-install-configuration-page",children:"https://www.ibm.com/docs/en/addi/6.1.2?topic=configurations-filling-ad-build-client-install-configuration-page"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Copy the file ",(0,s.jsx)(n.code,{children:"<ADDI_INSTALLATION_FOLDER>\\WCA4Z Data Generator\\samples\\SyncFile.txt"})," to a new location, for example the ADDI project sources folder ",(0,s.jsx)(n.code,{children:"C:\\IBM AD\\Mainframe Sources"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Open ",(0,s.jsx)(n.code,{children:"IBM Application Discovery Configuration Service Admin > Configure > Install configurations > IBM Application Discovery Build Client install configuration"}),"."]}),"\n",(0,s.jsx)(n.li,{children:'Check the "Enable members synchronization" option.'}),"\n",(0,s.jsxs)(n.li,{children:["Fill in the full path to the ",(0,s.jsx)(n.code,{children:"SyncFile.txt"}),", for example ",(0,s.jsx)(n.code,{children:"C:\\IBM AD\\Mainframe Sources\\SyncFile.txt"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Save the changes by clicking on the ",(0,s.jsx)(n.code,{children:"Save"})," button."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Open the configuration file located in ",(0,s.jsx)(n.code,{children:"<ADDI_INSTALLATION_FOLDER>\\WCA4Z Data Generator\\conf.properties"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Edit the values to match your ADDI installation details. Default values are provided as an example and they could be used as is or modified.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ADDI_PROJECT_NAME=ExtractedServices"})," - This is the project created in IBM Application Discovery Build Client and will be used to build the extracted services COBOL files."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ADDI_PROJECTS_FOLDER=C:\\IBM AD\\Mainframe Projects"})," - This is the root folder for all projects. It has been configured during the ADDI initial setup and it can be accessed from ",(0,s.jsx)(n.code,{children:"IBM Application Discovery Configuration Service Admin > Configure > Install configurations > IBM Application Discovery Build Client install configuration"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"PROJECT_GITHUB_CLONE_FOLDER=C:\\Extracted-Services"})," - This is the GitHub repository folder where the extracted services COBOL files are committed and updated."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"DDL_FOLDER=C:\\Extracted-Services\\DDL"})," - This is the folder where DDL and JCL files containing database information are added. Multiple files can be added to the folder but only the most recently updated one will be processed."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"run",children:"Run"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Run the ",(0,s.jsx)(n.code,{children:"automation.bat"})," script with no additional arguments from Command Prompt."]}),"\n",(0,s.jsx)(n.li,{children:"The script is executing synchronously and will return a zero exit code for a successful execution or a non zero exit code otherwise."}),"\n",(0,s.jsx)(n.li,{children:"If new programs have been built successfully but the metadata import fails for any reason, those programs will be saved for retry with the next run."}),"\n",(0,s.jsxs)(n.li,{children:["A new ",(0,s.jsx)(n.code,{children:"runControlFlowGenerator.log"})," log file will be generated in the same folder containing the full output of the execution."]}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"TODO: Check that RA is still running after https set up"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>l,a:()=>a});var s=i(7294);const t={},r=s.createContext(t);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);