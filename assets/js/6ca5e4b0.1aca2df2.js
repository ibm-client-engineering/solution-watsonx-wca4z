"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9556],{7012:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>d});var o=t(5893),i=t(1151);const s={sidebar_position:1,title:"Troubleshooting",custom_edit_url:null},r=void 0,a={id:"Transform/Troubleshooting",title:"Troubleshooting",description:"VSCode Z Open Editor (WCAz) debugging",source:"@site/docs/4-Transform/9-Troubleshooting.mdx",sourceDirName:"4-Transform",slug:"/Transform/Troubleshooting",permalink:"/solution-watsonx-wca4z/Transform/Troubleshooting",draft:!1,unlisted:!1,editUrl:null,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Troubleshooting",custom_edit_url:null},sidebar:"tutorialSidebar",previous:{title:"Transform",permalink:"/solution-watsonx-wca4z/transform"},next:{title:"Automation",permalink:"/solution-watsonx-wca4z/automation"}},l={},d=[{value:"VSCode Z Open Editor (WCAz) debugging",id:"vscode-z-open-editor-wcaz-debugging",level:2},{value:"Enable TRACE logging",id:"enable-trace-logging",level:3},{value:"Expanding &#39;Parameters used in API call&#39; output",id:"expanding-parameters-used-in-api-call-output",level:3}];function c(e){const n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"vscode-z-open-editor-wcaz-debugging",children:"VSCode Z Open Editor (WCAz) debugging"}),"\n",(0,o.jsx)(n.p,{children:"The following are some troubleshooting tips for Z Open Editor extension running\nin VSCode."}),"\n",(0,o.jsx)(n.h3,{id:"enable-trace-logging",children:"Enable TRACE logging"}),"\n",(0,o.jsxs)(n.p,{children:["In the extension settings for Z Open Editor, under\n",(0,o.jsx)(n.code,{children:"Watsonx > Watsonx Code Assistant For Z: Log Level"})," select ",(0,o.jsx)(n.code,{children:"TRACE"})," to enable the TRACE\nlevel logging."]}),"\n",(0,o.jsxs)(n.p,{children:["To view trace level logs, in the output console select ",(0,o.jsx)(n.code,{children:"IBM watsonx Code Assistant for Z"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"expanding-parameters-used-in-api-call-output",children:"Expanding 'Parameters used in API call' output"}),"\n",(0,o.jsx)(n.admonition,{type:"warning",children:(0,o.jsx)(n.p,{children:"This can be quite dangerous to operation of the extension and will invalidate the\nlicensing of the extension. Do not do this."})}),"\n",(0,o.jsx)(n.p,{children:"When the extension attempts to connect to the WCAz service using the API key\nthere is output in the log that looks like this by default (once TRACE logging is enabled):"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'2024-03-27T15:26:26.891-05:00 TRACE: 2024-03-27T20:26:26.891Z: Parameters used in API call: {\n  "url": "/v1/wca/codegen/c2j/projects",\n  "method": "GET"\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["In order to see the full set of parameters used in the API call, you can edit ",(0,o.jsx)(n.code,{children:"extension.js"}),"\ndirectly."]}),"\n",(0,o.jsxs)(n.p,{children:["First, close VSCode. Then navigate to the ",(0,o.jsx)(n.code,{children:".vscode-server"})," directory. From there navigate to\n",(0,o.jsx)(n.code,{children:"extensions/ibm.zopeneditor-4.0.0/dist"})," (assuming version is 4.0.0)."]}),"\n",(0,o.jsxs)(n.p,{children:["Make a backup copy of the ",(0,o.jsx)(n.code,{children:"extension.js"})," file."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"cp extension.js extension.bak\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This file is ugly because everything is on one line, so it can be difficult to edit. However,\nif you can find the section of the file that has ",(0,o.jsx)(n.code,{children:"Parameters used in API call"})," you will see\nthis short snippet of code:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"a.WatsonxLogger.trace(`Parameters used in API call: ${JSON.stringify(null==e?void 0:e.options,null,2)}`)\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Remove the ",(0,o.jsx)(n.code,{children:".options"})," from ",(0,o.jsx)(n.code,{children:"e.options"}),", so that this snippet looks like this:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"a.WatsonxLogger.trace(`Parameters used in API call: ${JSON.stringify(null==e?void 0:e,null,2)}`)\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Start VSCode again. When you add the API key to the extension, in the ",(0,o.jsx)(n.code,{children:"IBM watsonx Code Assistant for Z"}),"\noutput console you will now see something that looks like this:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-log",children:'2024-03-27T16:05:06.551-05:00 TRACE: 2024-03-27T21:05:06.551Z: Parameters used in API call: {\n  "options": {\n    "url": "/v1/wca/codegen/c2j/projects",\n    "method": "GET"\n  },\n  "defaultOptions": {\n    "qs": {},\n    "serviceUrl": "https://api.dataplatform.cloud.ibm.com",\n    "headers": {\n      "user-agent": "ibm.zopeneditor/4.0.0",\n      "Accept": "application/json",\n      "Content-Type": "application/json"\n    },\n    "authenticator": {\n      "disableSslVerification": false,\n      "url": "https://iam.cloud.ibm.com/identity/token",\n      "headers": {},\n      "tokenManager": {\n        "url": "https://iam.cloud.ibm.com",\n        "disableSslVerification": false,\n        "headers": {},\n        "requestWrapperInstance": {\n          "compressRequestData": false\n        },\n        "pendingRequests": [],\n        "tokenName": "access_token",\n        "tokenInfo": {},\n        "formData": {\n          "apikey": "XXXXXXXXXXXX-XXX-XXXXXXXXX-XXXXXXXXXXXX",\n          "grant_type": "urn:ibm:params:oauth:grant-type:apikey",\n          "response_type": "cloud_iam"\n        },\n        "requiredOptions": [\n          "apikey"\n        ],\n        "apikey": "XXXXXXXXXXXX-XXX-XXXXXXXXX-XXXXXXXXXXXX"\n      },\n      "requiredOptions": [\n        "apikey"\n      ],\n      "apikey": "XXXXXXXXXXXX-XXX-XXXXXXXXX-XXXXXXXXXXXX"\n    },\n    "jar": true,\n    "timeout": 120000,\n    "disableSslVerification": false\n  }\n}\n'})}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsx)(n.p,{children:"This will be overwritten when the extension is updated."})})]})}function u(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>r});var o=t(7294);const i={},s=o.createContext(i);function r(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);