<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Prepare/cloud_databases" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Cloud Database | IBM Client Engineering</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ibm-client-engineering.github.io/solution-watsonx-wca4z/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ibm-client-engineering.github.io/solution-watsonx-wca4z/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ibm-client-engineering.github.io/solution-watsonx-wca4z/Prepare/cloud_databases"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="ibm client engineering, open solutions library,  filenet, eks, aws, cp4ba, filenet on aws eks"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Cloud Database | IBM Client Engineering"><meta data-rh="true" name="description" content="Pre-Requisites"><meta data-rh="true" property="og:description" content="Pre-Requisites"><link data-rh="true" rel="icon" href="/solution-watsonx-wca4z/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ibm-client-engineering.github.io/solution-watsonx-wca4z/Prepare/cloud_databases"><link data-rh="true" rel="alternate" href="https://ibm-client-engineering.github.io/solution-watsonx-wca4z/Prepare/cloud_databases" hreflang="en"><link data-rh="true" rel="alternate" href="https://ibm-client-engineering.github.io/solution-watsonx-wca4z/Prepare/cloud_databases" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/solution-watsonx-wca4z/blog/rss.xml" title="IBM Client Engineering RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/solution-watsonx-wca4z/blog/atom.xml" title="IBM Client Engineering Atom Feed">






<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GB0XWXF3GE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GB0XWXF3GE",{anonymize_ip:!0})</script><link rel="stylesheet" href="/solution-watsonx-wca4z/assets/css/styles.22067fdf.css">
<script src="/solution-watsonx-wca4z/assets/js/runtime~main.77149df4.js" defer="defer"></script>
<script src="/solution-watsonx-wca4z/assets/js/main.60c34ea0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/solution-watsonx-wca4z/"><div class="navbar__logo"><img src="/solution-watsonx-wca4z/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="200" width="200"><img src="/solution-watsonx-wca4z/img/logo-dark.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="200" width="200"></div><b class="navbar__title text--truncate">| IBM watsonx Code Assistant for Z</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/solution-watsonx-wca4z/">Flight Path</a><a class="navbar__item navbar__link" href="/solution-watsonx-wca4z/blog">Flight Logs</a><a href="https://github.com/ibm-client-engineering/solution-watsonx-wca4z" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/solution-watsonx-wca4z/">wca4Z</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/solution-watsonx-wca4z/">Prepare</a><button aria-label="Collapse sidebar category &#x27;Prepare&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solution-watsonx-wca4z/Prepare/pre-flight-checks">Pre-Flight Checks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solution-watsonx-wca4z/Prepare/ADDI">ADDI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solution-watsonx-wca4z/Prepare/Refactor">Refactor Assistant</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solution-watsonx-wca4z/Prepare/TLS">TLS Connections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/solution-watsonx-wca4z/Prepare/cloud_databases">Cloud Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solution-watsonx-wca4z/Prepare/cloud_object_storage">Cloud Object Storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solution-watsonx-wca4z/Prepare/genapp">GenApp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solution-watsonx-wca4z/Prepare/architect">Architect</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solution-watsonx-wca4z/Prepare/vscode">VSCode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solution-watsonx-wca4z/Prepare/guacamole">Guacamole</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solution-watsonx-wca4z/Prepare/gitlab">GitLab</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/solution-watsonx-wca4z/understand">Understand</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/solution-watsonx-wca4z/refactor">Refactor</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/solution-watsonx-wca4z/transform">Transform</a><button aria-label="Expand sidebar category &#x27;Transform&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/solution-watsonx-wca4z/automation">Automation</a><button aria-label="Expand sidebar category &#x27;Automation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/solution-watsonx-wca4z/">Transition</a><button aria-label="Expand sidebar category &#x27;Transition&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/solution-watsonx-wca4z/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/solution-watsonx-wca4z/"><span itemprop="name">Prepare</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Cloud Database</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Cloud Database</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pre-requisites">Pre-Requisites<a href="#pre-requisites" class="hash-link" aria-label="Direct link to Pre-Requisites" title="Direct link to Pre-Requisites">​</a></h2>
<ul>
<li>DB2 on Cloud Enterprise Edition</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="connecting-to-db2-on-cloud-from-inside-firewall">Connecting to DB2 on Cloud from inside firewall<a href="#connecting-to-db2-on-cloud-from-inside-firewall" class="hash-link" aria-label="Direct link to Connecting to DB2 on Cloud from inside firewall" title="Direct link to Connecting to DB2 on Cloud from inside firewall">​</a></h2>
<p>For on-prem installations of ADDI and RA servers, if there is a firewall blocking
access to DB2 on Cloud then a network security ticket will need to be opened.
Ideally, the network security team will open up the firewall directly to the DB2 on Cloud
host. In which case, you can proceed as normal.</p>
<p>In some cases, the network security team will create a &quot;plug proxy&quot; instead of opening the
firewall directly. They will then give you a proxy host and IP address to use that will
then create a tunnel to connect to the DB2 host on the otherside of the firewall. This
complicates the configuration.</p>
<p>Another important detail to keep in mind is that the DB2 host given by IBM Cloud is a
load balancer. There are other actual IP addresses behind that load balancer IP. You will
need all hosts and IP addresses from DB2 on Cloud to configure connection through a plug
proxy.</p>
<p>For example, the nslookup command below shows all hosts and IP addresses for a DB2 on Cloud
load balancer host/ip combination.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">➜  ~ nslookup bb54fad1-34c8-4d62-b5ea-3a11d91f3f3f.c3n41cmd0nqnrk39u98g.databases.appdomain.cloud</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Server:         172.26.32.1</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Address:        172.26.32.1#53</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Non-authoritative answer:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">bb54fad1-34c8-4d62-b5ea-3a11d91f3f3f.c3n41cmd0nqnrk39u98g.databases.appdomain.cloud     canonical name = db2-icd-prod-us-s-590130-4f0f9a5666e20005abfaee753b7e644d-0000.us-south.containers.appdomain.cloud.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">db2-icd-prod-us-s-590130-4f0f9a5666e20005abfaee753b7e644d-0000.us-south.containers.appdomain.cloud      canonical name = db2-icd-prod-us-s-590130-4f0f9a5666e20005abfaee753b7e644d-0000.c3n41cmd0nqnrk39u98g.akadns.net.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Name:   db2-icd-prod-us-s-590130-4f0f9a5666e20005abfaee753b7e644d-0000.c3n41cmd0nqnrk39u98g.akadns.net</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Address: 52.117.249.178</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Name:   db2-icd-prod-us-s-590130-4f0f9a5666e20005abfaee753b7e644d-0000.c3n41cmd0nqnrk39u98g.akadns.net</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Address: 169.48.136.34</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Name:   db2-icd-prod-us-s-590130-4f0f9a5666e20005abfaee753b7e644d-0000.c3n41cmd0nqnrk39u98g.akadns.net</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Address: 52.116.221.102</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You will need to note not only the load balancer hostname but the actual hostname.</p>
<p><strong>Load balancer:</strong> <code>bb54fad1-34c8-4d62-b5ea-3a11d91f3f3f.c3n41cmd0nqnrk39u98g.databases.appdomain.cloud</code></p>
<p><strong>Actual:</strong> <code>db2-icd-prod-us-s-590130-4f0f9a5666e20005abfaee753b7e644d-0000.c3n41cmd0nqnrk39u98g.akadns.net</code></p>
<p>Let&#x27;s now assume the plug proxy given is <code>plugproxy-xyz.customer.lab</code> and the
IP is <code>10.1.70.150</code> and the DB2 hostnames above are to be used. The Windows <code>hosts</code> file
needs to be configured as follows.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">10.1.70.150 plugproxy-xyz.customer.lab</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">10.1.70.150 bb54fad1-34c8-4d62-b5ea-3a11d91f3f3f.c3n41cmd0nqnrk39u98g.databases.appdomain.cloud</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">10.1.70.150 db2-icd-prod-us-s-590130-4f0f9a5666e20005abfaee753b7e644d-0000.c3n41cmd0nqnrk39u98g.akadns.net</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After configuring the <code>hosts</code> file (Found under <code>C:\Windows\System32\drivers\etc</code>), you will then
proceed to configure the connection to DB2 using <code>plugproxy-xyz.customer.lab</code> as the hostname.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-service-credentials">Creating the service credentials<a href="#creating-the-service-credentials" class="hash-link" aria-label="Direct link to Creating the service credentials" title="Direct link to Creating the service credentials">​</a></h2>
<p>In the IBM Cloud dashboard, select databases from the resource list and open it up</p>
<p><img loading="lazy" src="https://media.github.ibm.com/user/20330/files/f0a5d1dd-8401-4ef8-aed2-189b9546214f" alt="CleanShot 2024-04-24 at 13 51 06" class="img_ev3q"></p>
<p>Select the Service Credentials</p>
<p><img loading="lazy" src="https://media.github.ibm.com/user/20330/files/f973cfca-c547-4af9-873a-d66a8b968ee7" alt="CleanShot 2024-04-24 at 13 45 08" class="img_ev3q"></p>
<p>Create the name as <code>db2_sa</code> with the <code>Manager</code> role and click <code>Add</code></p>
<p><img loading="lazy" src="https://media.github.ibm.com/user/20330/files/415d1212-eea0-4e84-b79b-6b400481ccf7" alt="CleanShot 2024-04-24 at 13 55 00" class="img_ev3q"></p>
<p>The service UserID will be generated as well as a password. Take note of these values from the JSON.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">{</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  &quot;apikey&quot;: &quot;&lt;API KEY&gt;&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  &quot;connection&quot;: {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    &quot;cli&quot;: {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;arguments&quot;: [</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        [</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          &quot;-u&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          &quot;&lt;Username&gt;&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          &quot;-p&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          &quot;&lt;Password&gt;&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          &quot;--ssl&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          &quot;--sslCAFile&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          &quot;&lt;ssl CA file&gt;&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          &quot;--authenticationDatabase&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          &quot;admin&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          &quot;--host&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          &quot;&lt;HOST&gt;:&lt;PORT:31106&gt;&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;bin&quot;: &quot;db2&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;certificate&quot;: {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        &quot;certificate_base64&quot;: &quot;LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFakNDQWZxZ0F3SUJBZ0lKQVA1S0R3ZTNCTkxiTUEwR0NTcUdTSWIzRFFFQkN3VUFNQjR4SERBYUJnTlYKQkFNTUUwbENUU0JEYkc5MVpDQkVZWFJoWW1GelpYTXdIaGNOTWpBd01qSTVNRFF5TVRBeVdoY05NekF3TWpJMgpNRFF5TVRBeVdqQWVNUnd3R2dZRFZRUUREQk5KUWswZ1EyeHZkV1FnUkdGMFlXSmhjMlZ6TUlJQklqQU5CZ2txCmhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdXUvbitpWW9xdkdGNU8xSGpEalpsK25iYjE4UkR4ZGwKTzRUL3FoUGMxMTREY1FUK0plRXdhdG13aGljTGxaQnF2QWFMb1hrbmhqSVFOMG01L0x5YzdBY291VXNmSGR0QwpDVGcrSUsxbjBrdDMrTHM3d1dTakxqVE96N3M3MlZUSU5yYmx3cnRIRUlvM1JWTkV6SkNHYW5LSXdZMWZVSUtrCldNMlR0SDl5cnFsSGN0Z2pIUlFmRkVTRmlYaHJiODhSQmd0amIva0xtVGpCaTFBeEVadWNobWZ2QVRmNENOY3EKY21QcHNqdDBPTnI0YnhJMVRyUWxEemNiN1hMSFBrWW91SUprdnVzMUZvaTEySmRNM1MrK3labFZPMUZmZkU3bwpKMjhUdGJoZ3JGOGtIU0NMSkJvTTFSZ3FPZG9OVm5QOC9EOWZhamNNN0lWd2V4a0lSOTNKR1FJREFRQUJvMU13ClVUQWRCZ05WSFE0RUZnUVVlQ3JZanFJQzc1VUpxVmZEMDh1ZWdqeDZiUmN3SHdZRFZSMGpCQmd3Rm9BVWVDclkKanFJQzc1VUpxVmZEMDh1ZWdqeDZiUmN3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFOQmdrcWhraUc5dzBCQVFzRgpBQU9DQVFFQUkyRTBUOUt3MlN3RjJ2MXBqaHV4M0lkWWV2SGFVSkRMb0tPd0hSRnFSOHgxZ2dRcGVEcFBnMk5SCkx3R08yek85SWZUMmhLaWd1d2orWnJ5SGxxcHlxQ0pLOHJEU28xZUVPekIyWmE2S1YrQTVscEttMWdjV3VHYzMKK1UrVTFzTDdlUjd3ZFFuVjU0TVU4aERvNi9sVHRMRVB2Mnc3VlNPSlFDK013ejgrTFJMdjVHSW5BNlJySWNhKwozM0wxNnB4ZEttd1pLYThWcnBnMXJ3QzRnY3dlYUhYMUNEWE42K0JIbzhvWG5YWkh6UG91cldYS1BoaGdXZ2J5CkNDcUdIK0NWNnQ1eFg3b05NS3VNSUNqRVZndnNLWnRqeTQ5VW5iNVZZbHQ0b1J3dTFlbGdzRDNjekltbjlLREQKNHB1REFvYTZyMktZZE4xVkxuN3F3VG1TbDlTU05RPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        &quot;name&quot;: &quot;f64c7886-a9cf-45d4-8c62-2a5d468cb8d2&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;composed&quot;: [</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        &quot;db2 -u 856d915d -p 7bpRpEYGALwWt4fr --ssl --sslCAFile f64c7886-a9cf-45d4-8c62-2a5d468cb8d2 --authenticationDatabase admin --host dbd5d8b8-61c3-49dc-9213-79a4104c27f6.c8l9ggsd0kmvoig3l8kg.databases.appdomain.cloud:31106&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;environment&quot;: {},</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;type&quot;: &quot;cli&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    &quot;db2&quot;: {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;authentication&quot;: {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        &quot;method&quot;: &quot;direct&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        &quot;password&quot;: &quot;7bpRpEYGALwWt4fr&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        &quot;username&quot;: &quot;856d915d&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;certificate&quot;: {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        &quot;certificate_base64&quot;: &quot;LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURFakNDQWZxZ0F3SUJBZ0lKQVA1S0R3ZTNCTkxiTUEwR0NTcUdTSWIzRFFFQkN3VUFNQjR4SERBYUJnTlYKQkFNTUUwbENUU0JEYkc5MVpDQkVZWFJoWW1GelpYTXdIaGNOTWpBd01qSTVNRFF5TVRBeVdoY05NekF3TWpJMgpNRFF5TVRBeVdqQWVNUnd3R2dZRFZRUUREQk5KUWswZ1EyeHZkV1FnUkdGMFlXSmhjMlZ6TUlJQklqQU5CZ2txCmhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdXUvbitpWW9xdkdGNU8xSGpEalpsK25iYjE4UkR4ZGwKTzRUL3FoUGMxMTREY1FUK0plRXdhdG13aGljTGxaQnF2QWFMb1hrbmhqSVFOMG01L0x5YzdBY291VXNmSGR0QwpDVGcrSUsxbjBrdDMrTHM3d1dTakxqVE96N3M3MlZUSU5yYmx3cnRIRUlvM1JWTkV6SkNHYW5LSXdZMWZVSUtrCldNMlR0SDl5cnFsSGN0Z2pIUlFmRkVTRmlYaHJiODhSQmd0amIva0xtVGpCaTFBeEVadWNobWZ2QVRmNENOY3EKY21QcHNqdDBPTnI0YnhJMVRyUWxEemNiN1hMSFBrWW91SUprdnVzMUZvaTEySmRNM1MrK3labFZPMUZmZkU3bwpKMjhUdGJoZ3JGOGtIU0NMSkJvTTFSZ3FPZG9OVm5QOC9EOWZhamNNN0lWd2V4a0lSOTNKR1FJREFRQUJvMU13ClVUQWRCZ05WSFE0RUZnUVVlQ3JZanFJQzc1VUpxVmZEMDh1ZWdqeDZiUmN3SHdZRFZSMGpCQmd3Rm9BVWVDclkKanFJQzc1VUpxVmZEMDh1ZWdqeDZiUmN3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFOQmdrcWhraUc5dzBCQVFzRgpBQU9DQVFFQUkyRTBUOUt3MlN3RjJ2MXBqaHV4M0lkWWV2SGFVSkRMb0tPd0hSRnFSOHgxZ2dRcGVEcFBnMk5SCkx3R08yek85SWZUMmhLaWd1d2orWnJ5SGxxcHlxQ0pLOHJEU28xZUVPekIyWmE2S1YrQTVscEttMWdjV3VHYzMKK1UrVTFzTDdlUjd3ZFFuVjU0TVU4aERvNi9sVHRMRVB2Mnc3VlNPSlFDK013ejgrTFJMdjVHSW5BNlJySWNhKwozM0wxNnB4ZEttd1pLYThWcnBnMXJ3QzRnY3dlYUhYMUNEWE42K0JIbzhvWG5YWkh6UG91cldYS1BoaGdXZ2J5CkNDcUdIK0NWNnQ1eFg3b05NS3VNSUNqRVZndnNLWnRqeTQ5VW5iNVZZbHQ0b1J3dTFlbGdzRDNjekltbjlLREQKNHB1REFvYTZyMktZZE4xVkxuN3F3VG1TbDlTU05RPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        &quot;name&quot;: &quot;f64c7886-a9cf-45d4-8c62-2a5d468cb8d2&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;composed&quot;: [</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        &quot;db2://856d915d:7bpRpEYGALwWt4fr@dbd5d8b8-61c3-49dc-9213-79a4104c27f6.c8l9ggsd0kmvoig3l8kg.databases.appdomain.cloud:31106/bludb?authSource=admin&amp;replicaSet=replset&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;database&quot;: &quot;bludb&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;host_ros&quot;: [</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        &quot;dbd5d8b8-61c3-49dc-9213-79a4104c27f6.c8l9ggsd0kmvoig3l8kg.databases.appdomain.cloud:31858&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;hosts&quot;: [</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          &quot;hostname&quot;: &quot;dbd5d8b8-61c3-49dc-9213-79a4104c27f6.c8l9ggsd0kmvoig3l8kg.databases.appdomain.cloud&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          &quot;port&quot;: 31106</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;jdbc_url&quot;: [</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        &quot;jdbc:db2://dbd5d8b8-61c3-49dc-9213-79a4104c27f6.c8l9ggsd0kmvoig3l8kg.databases.appdomain.cloud:31106/bludb:user=&lt;userid&gt;;password=&lt;your_password&gt;;sslConnection=true;&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;path&quot;: &quot;/bludb&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;query_options&quot;: {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        &quot;authSource&quot;: &quot;admin&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        &quot;replicaSet&quot;: &quot;replset&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;replica_set&quot;: &quot;replset&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;scheme&quot;: &quot;db2&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      &quot;type&quot;: &quot;uri&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  &quot;iam_apikey_description&quot;: &quot;Auto-generated for key crn:v1:bluemix:public:dashdb-for-transactions:us-south:a/fb7864c969b640e29a59ee1365731e3b:dbd5d8b8-61c3-49dc-9213-79a4104c27f6:resource-key:856d915d-d65a-4381-afe1-c92d03288fce&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  &quot;iam_apikey_id&quot;: &quot;ApiKey-f9751182-792f-451b-b963-34de564f6059&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  &quot;iam_apikey_name&quot;: &quot;db2_sa&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  &quot;iam_role_crn&quot;: &quot;crn:v1:bluemix:public:iam::::serviceRole:Manager&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  &quot;iam_serviceid_crn&quot;: &quot;crn:v1:bluemix:public:iam-identity::a/fb7864c969b640e29a59ee1365731e3b::serviceid:ServiceId-719a6cfa-ec45-4ff1-8970-e2208ad69d0d&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  &quot;instance_administration_api&quot;: {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    &quot;deployment_id&quot;: &quot;crn:v1:bluemix:public:dashdb-for-transactions:us-south:a/fb7864c969b640e29a59ee1365731e3b:dbd5d8b8-61c3-49dc-9213-79a4104c27f6::&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    &quot;instance_id&quot;: &quot;crn:v1:bluemix:public:dashdb-for-transactions:us-south:a/fb7864c969b640e29a59ee1365731e3b:dbd5d8b8-61c3-49dc-9213-79a4104c27f6::&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    &quot;root&quot;: &quot;https://api.db2.cloud.ibm.com/v5/ibm&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>From the above output we can extract the following values for this service account:</p>
<ul>
<li>Service Account Username: <code>856d915d</code></li>
<li>Service Account Password: <code>7bpRpEYGALwWt4fr</code></li>
<li>FQDN + Port: <code>dbd5d8b8-61c3-49dc-9213-79a4104c27f6.c8l9ggsd0kmvoig3l8kg.databases.appdomain.cloud:31106</code></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installingconfiguring-db2-client">Installing/Configuring DB2 Client<a href="#installingconfiguring-db2-client" class="hash-link" aria-label="Direct link to Installing/Configuring DB2 Client" title="Direct link to Installing/Configuring DB2 Client">​</a></h2>
<p>You will need the following:</p>
<ul>
<li>DB2 FQDN</li>
<li>DB2 port</li>
<li>DB2 user</li>
<li>DB2 Password</li>
</ul>
<p>As of this writing you will need to open the webui for the DB2 cloud instance.</p>
<p>Open the webui and follow the below images</p>
<p><img loading="lazy" src="https://media.github.ibm.com/user/20330/files/5ffae607-c786-4c48-947e-51f370694581" alt="CleanShot 2024-03-03 at 12 14 21" class="img_ev3q"></p>
<p><img loading="lazy" src="https://media.github.ibm.com/user/20330/files/ce46c70f-7edc-4317-823a-9f8a6892fdf4" alt="CleanShot 2024-03-03 at 12 15 41" class="img_ev3q"></p>
<p><img loading="lazy" src="https://media.github.ibm.com/user/20330/files/1965dc98-6e91-4d39-930b-70e0e8494a49" alt="CleanShot 2024-04-24 at 14 09 48" class="img_ev3q"></p>
<ol>
<li>Download Windows driver package
Download Windows driver package from driver <a href="https://www.ibm.com/support/fixcentral/swg/quickorder?parent=ibm%2FInformation%20Management&amp;product=ibm/Information+Management/IBM+Data+Server+Client+Packages&amp;release=11.5.8.0&amp;platform=Windows+64-bit,+x86&amp;function=fixId&amp;fixids=DSClients-ntx64-dsdriver-11.5.9000.352-FP000&amp;includeRequisites=1&amp;includeSupersedes=0&amp;downloadMethod=http&amp;source=fc" target="_blank" rel="noopener noreferrer">list</a>
File name: ibm_data_server_driver_package_win64_v11.5.exe (104 MB)</li>
<li>Install the drivers by running the <code>ibm_data_server_driver_package_win64_v11.5.exe</code> file as an administrator.</li>
<li>In The Connection configuration resources section, select whether or not you want to secure your connections by using SSL.
If your application uses its own driver and you want to connect with SSL, download the SSL certificate (DigiCertGlobalRootCA.crt).
For Java apps, use the JDBC string as the database URL in your call to the JDBC getConnection method.
For ODBC apps, add new entries to the db2dsdriver.cfg driver configuration file by running the following commands:</li>
</ol>
<p>Determine the FQDN of your DB2 on Cloud instance:</p>
<p>From the above image our example FQDN for DB2 is <code>dbd5d8b8-61c3-49dc-9213-79a4104c27f6.c8l9ggsd0kmvoig3l8kg.databases.appdomain.cloud</code> and our port is <code>31106</code>.</p>
<p>Once you have the instance up and you have the FQDN, run the following db2 local config commands in Powershell on the ADDI Host as illustrated from the db2 webui:</p>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">db2cli writecfg add -database bludb -host dbd5d8b8-61c3-49dc-9213-79a4104c27f6.c8l9ggsd0kmvoig3l8kg.databases.appdomain.cloud -port 31106</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">db2cli writecfg add -dsn dashdb -database bludb -host dbd5d8b8-61c3-49dc-9213-79a4104c27f6.c8l9ggsd0kmvoig3l8kg.databases.appdomain.cloud -port 31106</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">db2cli writecfg add -database bludb -host dbd5d8b8-61c3-49dc-9213-79a4104c27f6.c8l9ggsd0kmvoig3l8kg.databases.appdomain.cloud -port 31106 -parameter &quot;SecurityTransportMode=SSL&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configure-wca4z-instance-for-db2">Configure WCA4Z instance for DB2<a href="#configure-wca4z-instance-for-db2" class="hash-link" aria-label="Direct link to Configure WCA4Z instance for DB2" title="Direct link to Configure WCA4Z instance for DB2">​</a></h2>
<p>In the IBM Cloud Dashboard under resources select the WCA4Z instance</p>
<p><img loading="lazy" src="https://media.github.ibm.com/user/20330/files/1aa13aa7-a7fc-4404-98a8-813add84260d" alt="CleanShot 2024-04-24 at 14 25 30" class="img_ev3q"></p>
<p>Launce the watsonx Code Assistant ui</p>
<p><img loading="lazy" src="https://media.github.ibm.com/user/20330/files/8628ba85-e93d-46da-813e-0dc70e4625d6" alt="CleanShot 2024-04-24 at 14 27 41" class="img_ev3q"></p>
<p>We are going to perform the tasks highlighted by the red arrows.</p>
<p><img loading="lazy" src="https://media.github.ibm.com/user/20330/files/8830bb26-f001-4e01-a879-9e8812b9e461" alt="CleanShot 2024-04-24 at 14 30 11" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-service-id">Create service Id<a href="#create-service-id" class="hash-link" aria-label="Direct link to Create service Id" title="Direct link to Create service Id">​</a></h3>
<p>We&#x27;ll call it <code>wca4z_service_id</code>
<img loading="lazy" src="https://media.github.ibm.com/user/20330/files/3f8c285b-fc46-4983-965c-c20b7cd29765" alt="CleanShot 2024-04-24 at 14 34 08" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-api-key">Create API Key<a href="#create-api-key" class="hash-link" aria-label="Direct link to Create API Key" title="Direct link to Create API Key">​</a></h3>
<p>Once the service ID is created, select API Keys from left hand side. Click Create and call the API key <code>wca-api-key</code></p>
<p><img loading="lazy" src="https://media.github.ibm.com/user/20330/files/759f1c90-654a-44d1-a039-1d8d333443d0" alt="CleanShot 2024-04-24 at 14 39 30" class="img_ev3q"></p>
<p>Copy or download the API key somewhere safe. This is needed for next step.</p>
<p><img loading="lazy" src="https://media.github.ibm.com/user/20330/files/d0d4bc09-a923-49c2-bff3-698fd839d7bd" alt="CleanShot 2024-04-24 at 14 42 32" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-the-deployment-space">Create the Deployment Space<a href="#create-the-deployment-space" class="hash-link" aria-label="Direct link to Create the Deployment Space" title="Direct link to Create the Deployment Space">​</a></h3>
<p>We are going with <code>wca-deployment</code> for our deployment space name.</p>
<p><img loading="lazy" src="https://media.github.ibm.com/user/20330/files/cb165f94-8f54-4172-95d4-0bc2e411e7fc" alt="CleanShot 2024-04-24 at 15 36 05" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-service-id-to-deployment-space">Add Service ID to Deployment Space<a href="#add-service-id-to-deployment-space" class="hash-link" aria-label="Direct link to Add Service ID to Deployment Space" title="Direct link to Add Service ID to Deployment Space">​</a></h3>
<p>Select under the <code>Add collaborators</code> button add service ids</p>
<p><img loading="lazy" src="https://media.github.ibm.com/user/20330/files/824564ea-64bf-4742-9aae-861bfaeec3a8" alt="CleanShot 2024-04-24 at 15 39 29" class="img_ev3q"></p>
<p>Check off the service ID we created earlier and set the role to <code>Admin</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-db2-connection-to-workspace">Add DB2 Connection to workspace<a href="#add-db2-connection-to-workspace" class="hash-link" aria-label="Direct link to Add DB2 Connection to workspace" title="Direct link to Add DB2 Connection to workspace">​</a></h3>
<p>Under Import asserts, select Data access and then Connection</p>
<p><img loading="lazy" src="https://media.github.ibm.com/user/20330/files/2d566f5c-c8aa-4a7e-8a1b-9cdcac063992" alt="CleanShot 2024-04-24 at 15 45 23" class="img_ev3q"></p>
<p>Select IBM under the provider and DB2 on Cloud</p>
<p><img loading="lazy" src="https://media.github.ibm.com/user/20330/files/b721059f-9b08-4fce-b498-4c99104ece4a" alt="CleanShot 2024-04-24 at 15 46 49" class="img_ev3q"></p>
<p>Populate the values with the service account user/pass/fqdn/port we extracted from our returned JSON. For the connection name we&#x27;re going with <code>db2-wca4z-connection</code>.</p>
<p><img loading="lazy" src="https://media.github.ibm.com/user/20330/files/4c8b35b2-23b0-4ebe-b2e9-a0e0d150b058" alt="CleanShot 2024-04-24 at 15 56 30" class="img_ev3q"></p>
<p>Finally test the connection and then click <code>Create</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configure-addi-for-db2">Configure ADDI for DB2<a href="#configure-addi-for-db2" class="hash-link" aria-label="Direct link to Configure ADDI for DB2" title="Direct link to Configure ADDI for DB2">​</a></h2>
<p><a target="_blank" href="/solution-watsonx-wca4z/assets/files/db2configuration-066f972fe525504efd3a9dfbb1aca002.bat"><code>db2configuration.bat</code></a></p>
<p>Download the above script and run it with your DB2 FQDN. You will need the following:</p>
<ul>
<li>FQDN (retrieved above)</li>
<li>Service Account Username (retrieved above): <code>856d915d</code></li>
<li>Service Account Password (retrieved above): <code>7bpRpEYGALwWt4fr</code></li>
<li>Port: <code>31106</code></li>
</ul>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">PS D:\&gt; .\db2configuration.bat dbName=BLUDB db2Host=3b84375f-36fb-42b0-8241-ac0e7840e5dc.bpe60pbd01oinge4psd0.databases.appdomain.cloud db2Port=31838 db2User=856d915d db2Password=7bpRpEYGALwWt4fr useTLS=true</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Adding new DB2 database instance into ADDI</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Success.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will add the appropriate entries into ADDI.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ip-restrictions-for-db2-on-cloud">IP Restrictions for DB2 on Cloud<a href="#ip-restrictions-for-db2-on-cloud" class="hash-link" aria-label="Direct link to IP Restrictions for DB2 on Cloud" title="Direct link to IP Restrictions for DB2 on Cloud">​</a></h2>
<p>For security, it might be required to restrict IP addresses that can access the
sensitive meta-data contained there. This can be done directly in DB2 on Cloud
through the adminstration console by updating the &quot;Allowlist IPs&quot;.</p>
<p><strong>Prerequisite</strong>: The list of IP addresses or subnets for the environment where ADDI deployed are required.
If ADDI is deployed to an on-prem environment you will need to work with the network team to get those
values.</p>
<ol>
<li>
<p>Logon to <a href="https://cloud.ibm.com/" target="_blank" rel="noopener noreferrer">https://cloud.ibm.com/</a></p>
</li>
<li>
<p>Navigate to Resource List → Databases</p>
</li>
<li>
<p>Select the DB2 on Cloud instance you want to modify</p>
</li>
<li>
<p>Click on Go To UI under Manage</p>
</li>
<li>
<p>Click on Adminstration</p>
</li>
<li>
<p>Click on Access restriction</p>
</li>
<li>
<p>Scroll down to Allowlist IPs</p>
</li>
<li>
<p>Click on &quot;Add IP +&quot; button</p>
</li>
<li>
<p>The list below includes the production IP subnets for the WCA4Z service. Add
each of the following as an Allowlisted IP address. This allows the WCA4Z service
to access the DB2 instance.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>(April 2024) These IP subnets are not currently published and are accurate as of the time of this documentation.</p></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">169.60.39.176/28 </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">169.60.36.32/27 </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">169.61.221.64/26 </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">169.61.134.0/27 </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">169.61.138.0/26 </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">169.61.14.48/28 </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">169.62.147.0/27 </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">52.117.255.0/26 </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">10.38.218.0/25 </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">10.93.43.64/26 </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">10.74.40.0/26 </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">10.241.100.128/25 </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">10.73.71.0/26</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>You will also need to add IP addresses or subnets that include the ADDI server
environment so that ADDI can access the DB2 instance to write the meta-data. Add
those IP addresses or subnet in the same manner as you did above.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="clearing-out-the-database">Clearing out the Database<a href="#clearing-out-the-database" class="hash-link" aria-label="Direct link to Clearing out the Database" title="Direct link to Clearing out the Database">​</a></h2>
<p>As of May 2024, the cloud database can only contain one project for transformation. If you want to
transform a new project, then the cloud database will need to be cleared out and reset.</p>
<ol>
<li>
<p>Log in to the DB2 on Cloud management UI and select Run SQL.</p>
</li>
<li>
<p>Run the following SQL commands in sequence. It is recommended to run one at a time and let each one
run to completion before running the next. In theory, they can be run as one unit but in practice some
commands might fail and will need to be run again.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">CALL SYSPROC.ADMIN_DROP_SCHEMA(&#x27;EZSCH&#x27;, NULL, &#x27;ERRORSCHEMA&#x27;, &#x27;ERRORTABLE&#x27;);</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">drop schema ERRORSCHEMA RESTRICT;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">drop tablespace TS_DATA;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">drop tablespace TS_IDX;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ALTER TABLESPACE TS_TMP SWITCH ONLINE;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">drop tablespace TS_TMP;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">drop bufferpool BPTEMP32K;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">drop bufferpool BPDATA32K;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">drop bufferpool BPIDX32K;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Ensure that the EZSCH schema no longer exists.</p>
</li>
</ol>
<p>The next time that a new project is defined using the ADDI build client that targets the DB2 on Cloud server
, the database schema will be rebuilt. This takes about 15 minutes.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/solution-watsonx-wca4z/Prepare/TLS"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">TLS Connections</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/solution-watsonx-wca4z/Prepare/cloud_object_storage"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Cloud Object Storage</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pre-requisites" class="table-of-contents__link toc-highlight">Pre-Requisites</a></li><li><a href="#connecting-to-db2-on-cloud-from-inside-firewall" class="table-of-contents__link toc-highlight">Connecting to DB2 on Cloud from inside firewall</a></li><li><a href="#creating-the-service-credentials" class="table-of-contents__link toc-highlight">Creating the service credentials</a></li><li><a href="#installingconfiguring-db2-client" class="table-of-contents__link toc-highlight">Installing/Configuring DB2 Client</a></li><li><a href="#configure-wca4z-instance-for-db2" class="table-of-contents__link toc-highlight">Configure WCA4Z instance for DB2</a><ul><li><a href="#create-service-id" class="table-of-contents__link toc-highlight">Create service Id</a></li><li><a href="#create-api-key" class="table-of-contents__link toc-highlight">Create API Key</a></li><li><a href="#create-the-deployment-space" class="table-of-contents__link toc-highlight">Create the Deployment Space</a></li><li><a href="#add-service-id-to-deployment-space" class="table-of-contents__link toc-highlight">Add Service ID to Deployment Space</a></li><li><a href="#add-db2-connection-to-workspace" class="table-of-contents__link toc-highlight">Add DB2 Connection to workspace</a></li></ul></li><li><a href="#configure-addi-for-db2" class="table-of-contents__link toc-highlight">Configure ADDI for DB2</a></li><li><a href="#ip-restrictions-for-db2-on-cloud" class="table-of-contents__link toc-highlight">IP Restrictions for DB2 on Cloud</a></li><li><a href="#clearing-out-the-database" class="table-of-contents__link toc-highlight">Clearing out the Database</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Explore</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.ibm.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM</a></li><li class="footer__item"><a href="https://www.ibm.com/client-engineering" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM Client Engineering - Open Solutions Library</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://ibm.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="https://upload.wikimedia.org/wikipedia/commons/5/51/IBM_logo.svg" alt="IBM Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="150" height="150"><img src="https://upload.wikimedia.org/wikipedia/commons/5/51/IBM_logo.svg" alt="IBM Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="150" height="150"></a></div></div></div></footer></div>
</body>
</html>